include ../lib/doctype
title Transport HM
<link rel=icon type="image/png" href="favicon.png">
link(href="http://fonts.googleapis.com/css?family=Ubuntu:700,400italic,400", rel="stylesheet")
link(rel="stylesheet",href="style.css")
<body>
h1 Transport HM
header
nav
	a(href="#contact") Contact
	a(href="#about") About
	a(href="#services") Services
	a(href="") Français

section#contact
	.leftcol
		div#map
	.rightcol
		address 
			h2 CONTACT
			| 1248, SAINTE-MARGUERITE<br>MERCIER (QUÉBEC) J6R&nbsp;2L1<br><br>450-692-7933<br><br><a href="mailto:test@transporthm.com">test@transporthm.com<br><a href="mailto:fake@transporthm.com">fake@transporthm.com</a>
section#about
	.leftcol
		h2 ABOUT
		p Lorem ipsum eiusmod officia ut labore in Ut ex elit minim fugiat deserunt sit aute reprehenderit enim et eu dolore dolore enim voluptate consectetur eiusmod quis officia elit nisi consequat. 
		p Lorem ipsum eiusmod officia ut labore in Ut ex elit minim fugiat deserunt sit aute reprehenderit enim et eu dolore dolore enim voluptate consectetur eiusmod quis officia elit nisi consequat. 
	.rightcol
		.img(style="height:20em")
			img(src="http://farm9.staticflickr.com/8392/8467507795_5411394ab9_c.jpg")
section#services
	.leftcol
		.img(style="height:20em")
			img(src="http://farm9.staticflickr.com/8327/8403477604_0c5353e3cf_h.jpg")
	.rightcol
		h2 SERVICES
		ul
			li Lorem ipsum nulla officia ex adipisicing.
			li in id ullamco exercitation cillum consequat.
			li adipisicing do laborum officia est dolor aute.
		p Lorem ipsum nulla officia ex adipisicing.
script
	// Modernizr 2.6.2 (Custom Build) | MIT & BSD
	;window.Modernizr=function(a,b,c){function t(a){i.cssText=a}function u(a,b){return t(prefixes.join(a+";")+(b||""))}function v(a,b){return typeof a===b}function w(a,b){return!!~(""+a).indexOf(b)}function x(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:v(f,"function")?f.bind(d||b):f}return!1}var d="2.6.2",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l={},m={},n={},o=[],p=o.slice,q,r={}.hasOwnProperty,s;!v(r,"undefined")&&!v(r.call,"undefined")?s=function(a,b){return r.call(a,b)}:s=function(a,b){return b in a&&v(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=p.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(p.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(p.call(arguments)))};return e}),l.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")};for(var y in l)s(l,y)&&(q=y.toLowerCase(),e[q]=l[y](),o.push((e[q]?"":"no-")+q));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)s(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},t(""),h=j=null,e._version=d,e}(this,this.document);
	
	//requestAnimationFrame shim
	(function() {
		var lastTime = 0;
		var vendors = ['ms', 'moz', 'webkit', 'o'];
		for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
			window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];
			window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] 
									|| window[vendors[x]+'CancelRequestAnimationFrame'];
		}
		if (!window.requestAnimationFrame)
			window.requestAnimationFrame = function(callback, element) {
				callback()
			};
	}());
	//requestAnimationFrame shim end
	nav=document.getElementsByTagName("nav")[0]
	onload=function(){
		document.getElementById("map").innerHTML="<iframe src='https://maps.google.ca/maps?hl=en&amp;q=1248,+SAINTE-MARGUERITE+MERCIER+(QU%C3%89BEC)+J6R+2L1&amp;ie=UTF8&amp;hq=&amp;hnear=1248+Boulevard+Sainte+Marguerite,+Mercier,+Qu%C3%A9bec+J6R+2L1&amp;t=m&amp;z=14&amp;ll=45.293046,-73.735221&amp;output=embed'>"
		//document.getElementById("map").style.background="#000"
	}
	
	if(Modernizr.canvas){
		var canvas=document.createElement("canvas")
		var w=100
		var h=100
		var context=canvas.getContext('2d')
		var ratio=context.webkitBackingStorePixelRatio||1
		canvas.width=w
		canvas.height=h
		document.getElementsByTagName("header")[0].appendChild(canvas)
		
		var img=new Image
		img.src="http://farm9.staticflickr.com/8085/8466364514_2c8460e30e_k.jpg"
		//img.src="http://farm9.staticflickr.com/8389/8466183450_4ef28c2518_k.jpg"
		img.onload=function(){
			var iw=img.width/ratio
			var ih=img.height/ratio
			canvas.width=iw
			canvas.height=ih
			context.drawImage(img,0,(document.body.scrollTop/2)*ih/(innerWidth*0.21),iw,ih)
			onscroll=onresize=function(){
				var top=document.body.scrollTop||document.documentElement.scrollTop
				var h=innerWidth*0.14
				var t=(top>h)?"fixed":"absolute";
				if(nav.className!=t)nav.className=t;
				if(top<h)requestAnimationFrame(function(){context.drawImage(img,0,(top/2)*ih/h,iw,ih)})
			}
		}
	}else{
		document.getElementsByTagName("header")[0].style.background="#eee url('http://farm9.staticflickr.com/8085/8466364514_2c8460e30e_k.jpg') right no-repeat"
		onscroll=onresize=function(){
				var top=document.body.scrollTop||document.documentElement.scrollTop
				var h=(window.innerWidth||document.documentElement.clientWidth)*0.14
				var t=(top>h)?"fixed":"absolute";
				if(nav.className!=t)nav.className=t;
			}
	}
	
	/*
	offset=0
	pressed=0
	i=0
	document.documentElement.style.overflow="hidden"
	ontouchstart=function(e){pressed=1;i=e.changedTouches[0].pageY}
	ontouchmove=function(e){
		if(pressed){
		offset+=e.changedTouches[0].pageY-i;
		i=e.changedTouches[0].pageY
		}
		e.preventDefault()
	}
	ontouchend=function(e){pressed=0}

	webkitRequestAnimationFrame(function f(){
			document.body.style.WebkitTransform= "translate3D(0px,"+offset+"px,1px)";
			context.drawImage(img,0,(offset/-2)*925/h)
		webkitRequestAnimationFrame(f)
	})
	*/